<!-- Matt :
  USGDT004 - Collab - liste resa
  USGDT014 - Collab - Annuler un covoiturage
  USGDT016 - Collab - Réserver un véhicule de société avec chauffeur
-->

<p>&nbsp;</p>

<h1>Vos réservations</h1>


<div class="text-right">
  <a routerLinkActive="active" button type="button" mdbBtn class="gdp-button1" rounded="true" mdbWavesEffect
    routerLink="/collaborateur/reservations/creer">Réserver un transport</a>
</div>


<br> &nbsp; <br>


<ngb-accordion [closeOthers]="true" activeIds="static-1">
  <ngb-panel id="static-1" title="Covoiturage">
    <ng-template ngbPanelContent>





      <table class="table table-striped table-bordered table-sm align-middle container-fluid">
        <tbody>
          <tr>
            <td class="gdp-barre1">
              <h2><b>Covoiturage</b></h2>
            </td>
          </tr>
          <tr>
            <td><br>

              <table class="container-fluid">

                <table class="container-fluid">
                  <tbody>
                    <tr>
                      <td colspan="4" class="gdp-barre2">
                        <h3><b>Réservation en cours</b></h3>
                      </td>
                    </tr>
                    <tr>
                      <th scope="col">
                        <h4>Date / heure</h4>
                      </th>
                      <th scope="col">
                        <h4>Départ</h4>
                      </th>
                      <th scope="col">
                        <h4>Destination</h4>
                      </th>
                      <th scope="col">&nbsp;</th>
                    </tr>
                    <tr *ngFor="let r of reservationsCourantes | async">

                      <th scope="row">{{r.date | date:'dd/MM/yyy HH:mm'}}</th>
                      <td>{{r.depart}}</td>
                      <td>{{r.destination}}</td>
                      <td style="text-align: center">

                        <button type="button" class="gdp-button2" rounded="true" mdbWavesEffect
                          (click)="basicModal.show()">détail</button>



                        <div mdbModal #basicModal="mdbModal" class="modal fade" tabindex="-1" role="dialog"
                          aria-labelledby="myBasicModalLabel" aria-hidden="true">
                          <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content">
                              <div class="modal-header gdp-barre1">
                                <button type="button" class="close pull-right" aria-label="Close"
                                  (click)="basicModal.hide()">
                                  <span aria-hidden="true">&times;</span>
                                </button>
                                <h4 class="modal-title w-100" id="myModalLabel">Détail</h4>
                              </div>
                              <div class="modal-body text-left">
                                <p><b>Départ :</b> {{r.depart}}</p>
                                <p><b>Destination :</b>{{r.destination}}</p>
                                <p><b>Date/Heure :</b>{{r.date | date:'dd/MM/yyy HH:mm'}}</p>
                                <p><b>Véhicule :</b> {{r.vehicule.marque}}-{{r.vehicule.modele}}</p>
                                <p><b>Chauffeur :</b> {{r.chauffeur.prenom}} {{r.chauffeur.nom | uppercase}} </p>
                              </div>
                              <div class="modal-footer gdp-barre2">
                                <button type="button" class="gdp-button2" aria-label="Close" (click)="basicModal.hide()"
                                  mdbWavesEffect>Fermer</button>
                              </div>
                            </div>
                          </div>
                        </div>

                        &nbsp;&nbsp;&nbsp;

                        <button type="button" ngbAutofocus class="gdp-button5" mdbWavesEffect
                          (click)="open(r.id)">annuler</button>

                        <!--
                <th scope="row">{{r.date | date:'dd/MM/yyy HH:mm'}}</th>
                <td>{{r.depart}}</td>
                <td>{{r.destination}}</td>
                <td style="text-align: center">

                  <button type="button" mdbBtn class="gdp-button2" rounded="true" mdbWavesEffect
                    (click)="open()">détail</button>
                    -->


                      </td>

                    </tr>

                  </tbody>
                </table>

                <br>
                <table class="container-fluid">
                  <tbody>
                    <tr>
                      <td colspan="4" class="gdp-barre2">
                        <h3><b>Historique</b></h3>
                      </td>
                    </tr>
                    <tr>
                      <th scope="col">
                        <h4>Date / heure</h4>
                      </th>
                      <th scope="col">
                        <h4>Départ</h4>
                      </th>
                      <th scope="col">
                        <h4>Destination</h4>
                      </th>
                      <th scope="col" style="text-align: center">&nbsp;</th>
                    </tr>
                    <tr *ngFor="let r of reservationsHisto | async">


                      <th scope="row">{{r.date | date:'dd/MM/yyy HH:mm'}}</th>
                      <td>{{r.depart}}</td>
                      <td>{{r.destination}}</td>
                      <td style="text-align: center"><button type="button" class="gdp-button2" rounded="true"
                          mdbWavesEffect>détail</button></td>


                    </tr>

                    <tr>
                      <td colspan="6" style="text-align:center">



                        <span style="text-align: center; white-space: nowrap">

                          <button type="button" class="gdp-button3" rounded="true"
                            mdbWavesEffect>&lt;</button><b>&nbsp;&nbsp;1&nbsp;/&nbsp;5&nbsp;&nbsp;</b><button
                            type="button" class="gdp-button3" rounded="true" mdbWavesEffect>&gt;</button>

                        </span>


                      </td>
                    </tr>
                  </tbody>
                </table>
              </table>
            </td>
          </tr>
        </tbody>
      </table>




    </ng-template>
  </ngb-panel>
  <ngb-panel id="static-2">
    <ng-template ngbPanelTitle>
      <span>Véhicule de société</span>
    </ng-template>
    <ng-template ngbPanelContent>




      <table class="table table-striped table-bordered table-sm align-middle container-fluid">
        <tbody>
          <tr>
            <td class="gdp-barre1">
              <h2><b>Véhicule de société</b></h2>
            </td>
          </tr>
          <tr>
            <td><br>

              <table class="container-fluid">

                <table class="container-fluid">
                  <tbody>
                    <tr>
                      <td colspan="6" class="gdp-barre2">
                        <h3><b>Réservation en cours</b></h3>
                      </td>
                    </tr>
                    <tr>
                      <th scope="col">
                        <h4>Date / heure début</h4>
                      </th>
                      <th scope="col">
                        <h4>Date / heure fin</h4>
                      </th>
                      <th scope="col">
                        <h4>Immatriculation</h4>
                      </th>
                      <th scope="col">
                        <h4>Marque</h4>
                      </th>
                      <th scope="col">
                        <h4>Modèle</h4>
                      </th>
                      <th scope="col">
                        <h4>Chauffeur</h4>
                      </th>

                    </tr>
                    <tr *ngFor="let r of resaVsocieteCourantes | async">

                      <td scope="row">{{r.date | date:'dd/MM/yyy HH:mm'}}</td>
                      <td scope="row">{{r.dateRetour | date:'dd/MM/yyy HH:mm'}}</td>
                      <td>{{r.vehicule.immatriculation}}</td>
                      <td>{{r.vehicule.marque}}</td>
                      <td>{{r.vehicule.modele}}</td>
                      <td>{{r.chauffeur}}</td>
                    </tr>

                  </tbody>
                </table>

                <br>
                <table class="container-fluid">
                  <tbody>
                    <tr>
                      <td colspan="6" class="gdp-barre2">
                        <h3><b>Historique</b></h3>
                      </td>
                    </tr>
                    <tr>
                      <th scope="col">
                        <h4>Date / heure début</h4>
                      </th>
                      <th scope="col">
                        <h4>Date / heure fin</h4>
                      </th>
                      <th scope="col">
                        <h4>Immatriculation</h4>
                      </th>
                      <th scope="col">
                        <h4>Marque</h4>
                      </th>
                      <th scope="col">
                        <h4>Modèle</h4>
                      </th>
                      <th scope="col">
                        <h4>Chauffeur</h4>
                      </th>

                    </tr>
                    <tr *ngFor="let r of resaVsocieteHisto | async">

                      <td scope="row">{{r.date | date:'dd/MM/yyy HH:mm'}}</td>
                      <td scope="row">{{r.dateRetour | date:'dd/MM/yyy HH:mm'}}</td>
                      <td>{{r.vehicule.immatriculation}}</td>
                      <td>{{r.vehicule.marque}}</td>
                      <td>{{r.vehicule.modele}}</td>
                      <td>{{r.chauffeur.prenom}} {{r.chauffeur.nom}}</td>


                    </tr>

                    <tr>
                      <td colspan="6" style="text-align:center">



                        <span style="text-align: center; white-space: nowrap">

                          <button type="button" class="gdp-button3" rounded="true"
                            mdbWavesEffect>&lt;</button><b>&nbsp;&nbsp;1&nbsp;/&nbsp;5&nbsp;&nbsp;</b><button
                            type="button" class="gdp-button3" rounded="true" mdbWavesEffect>&gt;</button>

                        </span>


                      </td>
                    </tr>
                  </tbody>
                </table>
              </table>
            </td>
          </tr>
        </tbody>
      </table>



    </ng-template>
  </ngb-panel>
  <!--
<ngb-panel id="static-3" title="3eme categorie">
  <ng-template ngbPanelContent>


    contenu



  </ng-template>
</ngb-panel> -->
</ngb-accordion>
